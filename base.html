<html>
    <head>
        <title>Spherical harmonics</title>
    </head>
    <body>
        <canvas id="glCanvas" width="640" height="480"></canvas>


        <script id="texture-vertex-shader" type="notjs">

         attribute vec2 vertex_position;
         varying vec2 texture_coordinates;

         void main()
         {
             gl_Position = vec4(vertex_position + vec2(0.5, 0.5), 0, 1);
             texture_coordinates = vertex_position;
         }
        </script>

        <script id="texture-fragment-shader" type="notjs">
         precision mediump float;

         varying vec2 texture_coordinates;
         // varying vec4 color;

         uniform sampler2D rho_sampler;
         uniform float screen_scale;

         void main()
         {
             float rho = texture2D(rho_sampler, vec2(texture_coordinates.x * screen_scale, texture_coordinates.y)).r;

             gl_FragColor = vec4( rho, rho, rho, 1.0);
         }
        </script>

        <script id="base-vertex-shader" type="notjs">

         uniform mat4 model;
         uniform mat4 view;
         uniform mat4 proj;

         #define M_PI 3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679
         
         // an attribute will receive data from a buffer
         attribute vec4 a_position;
         
         // all shaders have a main function
         void main() {
             
             // gl_Position is a special variable a vertex shader
             // is responsible for setting
             gl_Position = proj * view * model * a_position;
         }
         
        </script>
        
        <script id="base-fragment-shader" type="notjs">
         
         // fragment shaders don't have a default precision so we need
         // to pick one. mediump is a good default
         precision mediump float;
         
         void main() {
             // gl_FragColor is a special variable a fragment shader
             // is responsible for setting
             gl_FragColor = vec4(1, 0, 0.5, 1); // return redish-purple
         }
         
        </script>

        <script src="https://cdn.rawgit.com/humbletim/glm-js/31fd034b/build/glm-js.min.js"></script>
        <script src="./js/utilities.js"></script>
        <script src="./js/gl-utilities.js"></script>
        <script src="./js/base.js"></script>
    </body>
</html>
